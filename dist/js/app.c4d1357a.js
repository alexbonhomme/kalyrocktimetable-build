(function(){var e={7807:function(e,t,o){"use strict";var r=o(9242),n=o(5957),a=o(3396);function l(e,t,o,r,n,l){const i=(0,a.up)("SearchView");return(0,a.wg)(),(0,a.j4)(i,{class:"m-3"})}var i=o(7139);const s={class:"container-fluid"},u={class:"row align-items-end"},c={class:"col-md-4"},d={class:"col-md-auto"},f=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left-right",viewBox:"0 0 16 16"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z"})],-1),m=[f],p={class:"col-md-4"},h={class:"col-md-2"},v={for:"formInputDate",class:"form-label"},b={class:"col"},g={class:"d-grid"},w=["disabled"],y=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})],-1),_={class:"row my-3"},k={class:"col-12"};function O(e,t,o,n,l,f){const O=(0,a.up)("PlaceSelector"),D=(0,a.up)("Datepicker"),j=(0,a.up)("TimetableList");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",s,[(0,a._)("form",{onSubmit:t[4]||(t[4]=(0,r.iM)(((...e)=>f.search&&f.search(...e)),["prevent"]))},[(0,a._)("div",u,[(0,a._)("div",c,[(0,a.Wm)(O,{label:n.t("label.from"),modelValue:l.model.from,"onUpdate:modelValue":t[0]||(t[0]=e=>l.model.from=e),places:f.fromList},null,8,["label","modelValue","places"])]),(0,a._)("div",d,[(0,a._)("button",{type:"button",class:"btn btn-outline-secondary mb-3",onClick:t[1]||(t[1]=(...e)=>f.swapPlaces&&f.swapPlaces(...e))},m)]),(0,a._)("div",p,[(0,a.Wm)(O,{label:n.t("label.to"),modelValue:l.model.to,"onUpdate:modelValue":t[2]||(t[2]=e=>l.model.to=e),places:f.toList},null,8,["label","modelValue","places"])]),(0,a._)("div",h,[(0,a._)("div",null,[(0,a._)("label",v,(0,i.zw)(n.t("label.when")),1),(0,a.Wm)(D,{id:"formInputDay",modelValue:l.model.date,"onUpdate:modelValue":t[3]||(t[3]=e=>l.model.date=e),class:"mb-3",minDate:new Date,enableTimePicker:!1,autoApply:!0,required:""},null,8,["modelValue","minDate"])])]),(0,a._)("div",b,[(0,a._)("div",g,[(0,a._)("button",{disabled:!f.formValid,type:"submit",class:"btn btn-primary mb-3"},[(0,a.Uk)((0,i.zw)(n.t("label.search"))+" ",1),y],8,w)])])])],32),(0,a._)("div",_,[(0,a._)("div",k,[(0,a.Wm)(j,{results:l.results},null,8,["results"])])])])])}o(6699);var D=o(4329);const j={class:"list-group"},S={key:0,class:"ms-1"},L=["href"],V={class:"badge bg-primary"};function P(e,t,o,r,n,l){return(0,a.wg)(),(0,a.iD)("ul",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"list-group-item d-flex align-items-center"},[(0,a._)("div",null,(0,i.zw)(e.hour),1),e.informations?((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("small",null,"("+(0,i.zw)(e.informations)+")",1)])):(0,a.kq)("",!0),(0,a._)("a",{href:e.provider.url,class:"ms-auto"},[(0,a._)("span",V,(0,i.zw)(e.provider.name),1)],8,L)])))),128))])}var x={props:{results:{type:Array,default:()=>[]}}},A=o(89);const M=(0,A.Z)(x,[["render",P]]);var T=M;const C={class:"form-label"},N={class:"input-group mb-3"},z=["value"],E=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})],-1),I=[E];function U(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("label",C,(0,i.zw)(o.label),1),(0,a._)("div",N,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),class:"form-select",required:""},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.places,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e},(0,i.zw)(e.name),9,z)))),128))],512),[[r.bM,s.value]]),(0,a._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[1]||(t[1]=(...e)=>s.clear&&s.clear(...e))},I)])])}var K={props:{label:{type:String,required:!0},modelValue:Object,places:{type:Array,default:()=>[]}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{clear(){this.value=void 0}}};const Z=(0,A.Z)(K,[["render",U]]);var q=Z,H=JSON.parse('[{"id":"1","name":"KALYMNOS (ΚΑΛΥΜΝΟ)"},{"id":"2","name":"MASTICHARI (ΜΑΣΤΙΧΑΡΙ)"},{"id":"3","name":"KOS 1"},{"id":"4","name":"KOS 2"},{"id":"5","name":"KOS (All)","children":["3","4"]}]'),F=JSON.parse('[{"fromDate":"2022-05-03","toDate":"2022-10-31","providerId":"1","timetable":[{"from":"1","to":"2","days":[1,2,3,4,5,6],"hours":["07:00","13:30","17:30"]},{"from":"2","to":"1","days":[1,2,3,4,5,6],"hours":["09:00","14:30","18:30"]},{"from":"1","to":"2","days":[0],"hours":["08:30","17:30"]},{"from":"2","to":"1","days":[0],"hours":["09:30","18:30"]}]},{"fromDate":"2022-07-11","toDate":"2022-08-31","providerId":"2","timetable":[{"from":"1","to":"2","days":[1,2,3,4,5,6],"hours":["06:10","09:30","12:00","15:30","20:00","21:30"]},{"from":"2","to":"1","days":[1,2,3,4,5,6],"hours":["08:15","11:00","13:30","16:30","20:45","00:30"]},{"from":"1","to":"2","days":[0],"hours":["07:45","12:30","15:30","18:30"],"informations":{"18:30":"ΜΕΣΩ ΨΕΡΙΜΟΥ"}},{"from":"2","to":"1","days":[0],"hours":["10:30","14:30","16:30","00:30"],"informations":{"10:30":"ΜΕΣΩ ΨΕΡΙΜΟΥ"}}]}]'),W=JSON.parse('{"1":{"name":"ANEM Ferries","url":"https://www.anemferries.gr/en","ticketsUrl":""},"2":{"name":"ANEK","url":"https://www.anekalymnou.gr/en/","ticketsUrl":""}}'),B={components:{Datepicker:n.Z,TimetableList:T,PlaceSelector:q},data(){return{places:H,timetables:F,model:{from:void 0,to:void 0,date:void 0},results:[]}},setup(){const{t:e}=(0,D.QT)();return{t:e}},computed:{formValid(){return!!this.model.from&&!!this.model.to&&!!this.model.date},fromList(){return this.places.filter((({id:e})=>e!==this.model.to?.id))},toList(){return this.places.filter((({id:e})=>e!==this.model.from?.id))}},methods:{search(){const e=(new Date).getTime(),{from:t,to:o}=this.model,r=this.model.date.getDay();this.results=F.filter((({fromDate:t,toDate:o})=>new Date(t)<=e&&e<=new Date(o))).reduce(((e,{timetable:t,providerId:o})=>(e.push(...t.map((e=>({...e,providerId:o})))),e)),[]).filter((e=>e.from===t.id&&e.to===o.id&&e.days.includes(r))).reduce(((e,{hours:r,informations:n,providerId:a})=>(e.push(...r.map((e=>({from:t.name,to:o.name,hour:e,informations:n?.[e],provider:W[a]})))),e)),[]).sort((({hour:e},{hour:t})=>e>t?1:e<t?-1:0))},swapPlaces(){const{from:e,to:t}=this.model;this.model.from=t,this.model.to=e}}};const J=(0,A.Z)(B,[["render",O]]);var Y=J,$={name:"App",components:{SearchView:Y}};const Q=(0,A.Z)($,[["render",l]]);var R=Q;function G(e={locale:"en"}){const t=(0,D.o)(e);return X(t,e.locale),t}function X(e,t){"legacy"===e.mode?e.global.locale=t:e.global.locale.value=t}async function ee(e,t){const r=await o(2395)(`./${t}.json`);return e.global.setLocaleMessage(t,r.default),(0,a.Y3)()}var te=o(790);const oe=(0,r.ri)(R),re=document.querySelector("html").getAttribute("lang")||"en",ne=G({legacy:!1,locale:re,fallbackLocale:"en",messages:{en:te}});ee(ne,re),oe.use(ne),oe.component("Datepicker",n.Z),oe.mount("#kalyrocktimetable")},2395:function(e,t,o){var r={"./en.json":[790],"./fr.json":[844,221]};function n(e){if(!o.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(o.e)).then((function(){return o.t(n,19)}))}n.keys=function(){return Object.keys(r)},n.id=2395,e.exports=n},790:function(e){"use strict";e.exports=JSON.parse('{"label":{"from":"From","to":"To","when":"When","search":"Search"}}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,a){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],a=e[c][2];for(var i=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](r[s])}))?r.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);o.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){l[e]=function(){return r[e]}}));return l["default"]=function(){return r},o.d(a,l),a}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/locale-fr-json.f7fa759a.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="kalyrocktimetable:";o.l=function(r,n,a,l){if(e[r])e[r].push(n);else{var i,s;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[n];var f=function(t,o){i.onerror=i.onload=null,clearTimeout(m);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={143:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((function(o,r){n=e[t]=[o,r]}));r.push(n[2]=a);var l=o.p+o.u(t),i=new Error,s=function(r){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",i.name="ChunkLoadError",i.type=a,i.request=l,n[1](i)}};o.l(l,s,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,l=r[0],i=r[1],s=r[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(s)var c=s(o)}for(t&&t(r);u<l.length;u++)a=l[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},r=self["webpackChunkkalyrocktimetable"]=self["webpackChunkkalyrocktimetable"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(7807)}));r=o.O(r)})();
//# sourceMappingURL=app.c4d1357a.js.map